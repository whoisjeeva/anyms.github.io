{"version":3,"file":"../offline.min.js","sources":["offline.min.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar LocalDB = /*#__PURE__*/function () {\n  function LocalDB(name) {\n    _classCallCheck(this, LocalDB);\n\n    this._name = name;\n    this._db = {};\n    this.initDB();\n  }\n\n  _createClass(LocalDB, [{\n    key: \"initDB\",\n    value: function initDB() {\n      if (localStorage.getItem(this._name)) {\n        try {\n          this._db = JSON.parse(localStorage.getItem(this._name));\n        } catch (e) {\n          localStorage.setItem(this._name, JSON.stringify(this._db));\n        }\n      } else {\n        localStorage.setItem(this._name, JSON.stringify(this._db));\n      }\n    }\n  }, {\n    key: \"all\",\n    get: function get() {\n      return this._db;\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return Object.keys(this._db).length;\n    }\n  }, {\n    key: \"keys\",\n    get: function get() {\n      return Object.keys(this._db).reverse();\n    }\n  }, {\n    key: \"values\",\n    get: function get() {\n      return Object.values(this._db).reverse();\n    }\n  }, {\n    key: \"stringify\",\n    value: function stringify(obj) {\n      if (obj === undefined) {\n        return \"undefined\";\n      } else if (obj === null) {\n        return \"null\";\n      } else if (typeof obj === \"string\") {\n        return obj;\n      }\n\n      var str = obj.toString();\n\n      if (str === \"[object Object]\" || str.includes(\"[object Object]\")) {\n        return JSON.stringify(obj);\n      }\n\n      return str;\n    }\n  }, {\n    key: \"putSafe\",\n    value: function putSafe(key, value) {\n      if (this._db.hasOwnProperty(key)) {\n        throw new Error(\"Key \".concat(key, \" already exists\"));\n      }\n\n      this._db[key] = value;\n      localStorage.setItem(this._name, JSON.stringify(this._db));\n    }\n  }, {\n    key: \"put\",\n    value: function put(key, value) {\n      this._db[key] = value;\n      localStorage.setItem(this._name, JSON.stringify(this._db));\n    }\n  }, {\n    key: \"get\",\n    value: function get(key, defaultValue) {\n      if (this._db.hasOwnProperty(key)) {\n        return this._db[key];\n      }\n\n      return defaultValue;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(key) {\n      if (this._db.hasOwnProperty(key)) {\n        delete this._db[key];\n        localStorage.setItem(this._name, JSON.stringify(this._db));\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"update\",\n    value: function update(key, value) {\n      if (this._db.hasOwnProperty(key)) {\n        this._db[key] = value;\n        localStorage.setItem(this._name, JSON.stringify(this._db));\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this._db = {};\n      localStorage.setItem(this._name, JSON.stringify(this._db));\n    }\n  }, {\n    key: \"search\",\n    value: function search(query) {\n      var results = [];\n\n      for (var key in this._db) {\n        if (this.stringify(this._db[key]).toLowerCase().includes(query.toLowerCase())) {\n          results.push(this._db[key]);\n        }\n      }\n\n      return results;\n    }\n  }]);\n\n  return LocalDB;\n}();\n\nvar chars = [\"=\", \"0\", \"n\", \"C\", \"p\", \"g\", \"S\", \"Z\", \"2\", \"9\", \"W\", \"b\", \"l\", \"J\", \"n\", \"L\", \"5\", \"R\", \"2\", \"b\", \"i\", \"5\", \"C\", \"d\", \"u\", \"V\", \"W\", \"b\", \"1\", \"N\", \"2\", \"b\", \"k\", \"B\", \"C\", \"I\", \"g\", \"A\", \"i\", \"C\", \"7\", \"B\", \"S\", \"K\", \"p\", \"I\", \"C\", \"d\", \"z\", \"9\", \"G\", \"a\", \"s\", \"F\", \"2\", \"Y\", \"v\", \"x\", \"m\", \"I\", \"o\", \"M\", \"X\", \"Z\", \"k\", \"V\", \"H\", \"b\", \"j\", \"5\", \"W\", \"a\", \"u\", \"Q\", \"3\", \"c\", \"v\", \"h\", \"m\", \"L\", \"u\", \"9\", \"W\", \"a\", \"0\", \"F\", \"2\", \"Y\", \"v\", \"x\", \"W\", \"I\", \"g\", \"Y\", \"i\", \"J\", \"g\", \"k\", \"S\", \"K\", \"n\", \"c\", \"C\", \"K\", \"u\", \"l\", \"2\", \"b\", \"q\", \"5\", \"S\", \"K\", \"p\", \"M\", \"G\", \"K\", \"l\", \"R\", \"2\", \"b\", \"D\", \"J\", \"X\", \"Y\", \"o\", \"N\", \"U\", \"b\", \"v\", \"J\", \"n\", \"Z\", \"u\", \"c\", \"m\", \"b\", \"p\", \"J\", \"H\", \"d\", \"T\", \"B\", \"i\", \"P\", \"9\", \"A\", \"y\", \"Y\", \"o\", \"A\", \"X\", \"Y\", \"t\", \"5\", \"S\", \"X\", \"3\", \"E\", \"T\", \"M\", \"g\", \"w\", \"C\", \"O\", \"5\", \"A\", \"C\", \"L\", \"5\", \"A\", \"T\", \"M\", \"g\", \"w\", \"y\", \"N\", \"5\", \"A\", \"C\", \"L\", \"x\", \"I\", \"T\", \"M\", \"g\", \"w\", \"y\", \"N\", \"x\", \"E\", \"D\", \"I\", \"s\", \"U\", \"T\", \"M\", \"x\", \"s\", \"F\", \"K\", \"z\", \"V\", \"G\", \"Z\", \"1\", \"x\", \"2\", \"Y\", \"u\", \"l\", \"m\", \"L\", \"0\", \"N\", \"3\", \"b\", \"o\", \"5\", \"i\", \"b\", \"v\", \"l\", \"G\", \"d\", \"h\", \"N\", \"2\", \"b\", \"s\", \"F\", \"C\", \"K\", \"g\", \"Y\", \"W\", \"a\"];\nchars = \"\";\nvar localDB = new LocalDB(\"piper\");\nvar uid = $(document.body).attr(\"data-uid\");\nvar script = localDB.get(uid);\n\nif (!script) {\n  alert(\"Script not found in your local database\");\n  var h1 = $(\"<h1>Script not found</h1>\").css({\n    \"text-align\": \"center\",\n    \"position\": \"absolute\",\n    \"top\": \"50%\",\n    \"left\": \"50%\",\n    \"transform\": \"translate(-50%, -50%)\"\n  });\n  $(document.body).html(\"\").append(h1);\n}\n\n$(\"title, .title\").text(script.title);\n$(\"#stack\").text(script.variableStack);\n$(\"#workspace\").html(script.workspace);\nGumify.updateWorkspace(btoa(script.workspace), btoa(script.variableStack));\neval(atob(chars.reverse().join('')));\n\n},{}]},{},[1]);\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","LocalDB","name","this","_name","_db","initDB","value","localStorage","getItem","JSON","parse","setItem","stringify","get","keys","reverse","values","obj","undefined","str","toString","includes","hasOwnProperty","concat","defaultValue","query","results","toLowerCase","push","chars","localDB","uid","$","document","body","attr","script","h1","alert","css","text-align","position","top","left","transform","html","append","text","title","variableStack","workspace","Gumify","updateWorkspace","btoa","eval","atob","join"],"mappings":"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"}